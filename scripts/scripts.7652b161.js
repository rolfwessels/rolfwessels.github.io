"use strict";angular.module("lazyCowProjectsApp",["ngAnimate","ngCookies","ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/conwaygameoflife",{templateUrl:"views/conwaygameoflife.html",controller:"ConwaygameoflifeCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("lazyCowProjectsApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("lazyCowProjectsApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("lazyCowProjectsApp").controller("ConwaygameoflifeCtrl",["$scope","$timeout","$interval","Generateboard","Processboard",function(a,b,c,d,e){a.board=new d(30,30),a.board.draw=function(a){for(var b=this,c=this.items(),d=Enumerable.from(a).where(function(a){return!b.isAlive(a)}).toArray(),e=0;e<d.length;e++){var f=d[e],g="#cell_"+f.x+"_"+f.y,h=angular.element(document.querySelector(g));h.removeClass("alive")}for(var e=c.length-1;e>=0;e--){var f=c[e],g="#cell_"+f.x+"_"+f.y,h=angular.element(document.querySelector(g));h.addClass("alive")}},a.start=function(){b(function(){a.board.randomize(a.board.width*a.board.height/2.5),a.board.draw([])},100)};c(function(){var b=e.processBoard(a.board),c=a.board.items();a.board.clear(),a.board.add(b),a.board.draw(c)},100)}]),angular.module("lazyCowProjectsApp").filter("range",function(){return function(a,b){b=parseInt(b);for(var c=0;b>c;c++)a.push(c);return a}}),angular.module("lazyCowProjectsApp").service("Processboard",["Boardrules",function(a){return{processBoard:function(b){for(var c=b.getAllItemsOfInterest(),d=[],e=0;e<c.length;e++){var f=c[e],g=b.isAlive(f),h=b.getLiveNeighbours(f).length,i=a.isAlive(g,h);i&&d.push(f)}return d}}}]),angular.module("lazyCowProjectsApp").service("Boardrules",function(){return{isAlive:function(a,b){return a&&2==b||3==b||!a&&3==b}}}),angular.module("lazyCowProjectsApp").service("Generateboard",function(){function a(a,b){return Math.floor(Math.random()*b+a)}return function(b,c){return{width:b,height:c,_items:{},add:function(a){if(angular.isArray(a))for(var b=0;b<a.length;b++)this.add(a[b]);else if(a.x>=0&&a.x<this.width&&a.y>=0&&a.y<this.height){var c=this.getKey(a);this._items[c]||(this._items[c]=a)}},items:function(){var a=[];for(var b in this._items)a.push(this._items[b]);return a},clear:function(){this._items={}},getKey:function(a){return a.x+"_"+a.y},randomize:function(b){this.clear();for(var c=b-1;c>=0;c--){var d={x:a(0,this.width),y:a(0,this.height)};this.add(d)}},isAlive:function(a){var b=this.getKey(a);return this._items[b]?!0:!1},getLiveNeighbours:function(a){var b=this.items(),c=Enumerable.from(b).where(function(b){return!(a.x==b.x&&a.y==b.y)&&b.x>=a.x-1&&b.x<=a.x+1&&b.y>=a.y-1&&b.y<=a.y+1}).toArray();return c},getAllDeadNeighbours:function(a){var b=[{x:a.x-1,y:a.y-1},{x:a.x,y:a.y-1},{x:a.x+1,y:a.y-1},{x:a.x-1,y:a.y},{x:a.x+1,y:a.y},{x:a.x-1,y:a.y+1},{x:a.x,y:a.y+1},{x:a.x+1,y:a.y+1}],c=this,d=Enumerable.from(b).where(function(a){var b=c.getKey(a);return!c._items[b]}).toArray();return d},getAllItemsOfInterest:function(){var a={};for(var b in this._items){var c=this._items[b];a[b]||(a[b]=c);for(var d=this.getAllDeadNeighbours(c),e=0;e<d.length;e++){var f=d[e],g=this.getKey(f);a[g]||(a[g]=f)}}var h=[];for(var b in a)h.push(a[b]);return h}}}});